<div class="organization-card">
  <div class="organization-card__card">
    <button class="organization-card__close" (click)="handleCloseClick()">
      x
    </button>

    <div
      class="organization-card__info"
      *ngIf="headOrganization && !isEditingEnabled"
    >
      <h2>Головная организация</h2>
      <span class="organization-card__info-item"
        >Полное название: {{ headOrganization.fullOrganizationName }}</span
      >
      <span class="organization-card__info-item"
        >Сокращенное название:
        {{ headOrganization.shortOrganizationName }}</span
      >
      <span class="organization-card__info-item"
        >ИНН: {{ headOrganization.tin }}</span
      >
      <span class="organization-card__info-item"
        >КПП: {{ headOrganization.kpp }}</span
      >
      <span class="organization-card__info-item"
        >Учредитель: {{ headOrganization.founder }}</span
      >
      <span class="organization-card__info-item"
        >Адрес: {{ headOrganization.address }}</span
      >
      <span class="organization-card__info-item"
        >Телефон: {{ headOrganization.telephone }}</span
      >
    </div>

    <div class="organization-card__info" *ngIf="branch && !isEditingEnabled">
      <h2>Филиал</h2>
      <span class="organization-card__info-item"
        >Адрес: {{ branch.address }}</span
      >
      <span class="organization-card__info-item"
        >Телефон: {{ branch.telephone }}</span
      >
      <span class="organization-card__info-item"
        >Должностное лицо: {{ branch.executive }}</span
      >
    </div>

    <button
      *ngIf="role === 'admin' && !isEditingEnabled"
      class="organization-card__edit"
      (click)="handleEditClick()"
    >
      Редактировать
    </button>

    <form
      *ngIf="branchForm !== null && branch !== null && isEditingEnabled"
      [formGroup]="branchForm"
      (ngSubmit)="submitBranchForm()"
      class="organization-card__form"
    >
      <input type="text" placeholder="Адрес" formControlName="address" class="organization-card__input" />
      <input type="tel" placeholder="Телефон" formControlName="telephone" class="organization-card__input" />
      <input
        type="text"
        placeholder="Должностное лицо"
        formControlName="executive"
        class="organization-card__input"
      />
      <button
        [disabled]="branchForm.invalid"
        type="submit"
        class="organization-card__submit"
      >
        Сохранить
      </button>
    </form>

    <form
      *ngIf="headForm !== null && headOrganization !== null && isEditingEnabled"
      [formGroup]="headForm"
      (ngSubmit)="submitHeadForm()"
      class="organization-card__form"
    >
      <input
        type="text"
        placeholder="Полное название"
        formControlName="fullOrganizationName"
        class="organization-card__input"
      />
      <input
        type="text"
        placeholder="Краткое название"
        formControlName="shortOrganizationName"
        class="organization-card__input"
      />
      <input type="text" placeholder="ИНН" formControlName="tin" class="organization-card__input" />
      <input type="text" placeholder="КПП" formControlName="kpp" class="organization-card__input" />
      <input type="text" placeholder="Учредитель" formControlName="founder" class="organization-card__input" />
      <input type="text" placeholder="Адрес" formControlName="address" class="organization-card__input" />
      <input type="text" placeholder="Телефон" formControlName="telephone" class="organization-card__input" />
      <button
        [disabled]="headForm.invalid"
        type="submit"
        class="organization-card__submit"
      >
        Сохранить
      </button>
    </form>
  </div>
</div>
